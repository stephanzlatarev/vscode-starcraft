<!DOCTYPE html>
<html>

<body>
  <div>
    <input id="selection" type="text" placeholder="Enter bot id" style="width: 100%" />
    <div id="details" style="margin-top: 10px; font-weight: bold;"></div>
  </div>
</body>

<script>
const vscode = acquireVsCodeApi();

document.getElementById("selection").addEventListener("input", (event) => {
  if (!event.target.value || (event.target.value.length < 3)) return;

  vscode.postMessage({ event: "selection", id: event.target.value });
});

window.addEventListener("message", function({ data }) {
  if (data && data.id && data.name) {
    document.getElementById("details").innerHTML = `${data.name} (${data.id})`;
    vscode.postMessage({ event: "displayed", name: data.name });
  } else {
    document.getElementById("details").innerHTML = "";
    vscode.postMessage({ event: "displayed", name: null });
  }
});
</script>

</html>
